# ç®¡ç†å‘˜é¢æ¿å›½é™…åŒ–ä¿®å¤æŠ¥å‘Š

## é—®é¢˜æè¿°

ç”¨æˆ·æŠ¥å‘Šç®¡ç†å‘˜åå°çš„"æ¦‚è§ˆ"åŠŸèƒ½æ˜¾ç¤ºå›½é™…åŒ–é”®å€¼è€Œä¸æ˜¯å®é™…æ–‡æœ¬ï¼Œå…·ä½“è¡¨ç°ä¸ºï¼š
- æ˜¾ç¤º `admin.stats.error.title` è€Œä¸æ˜¯ "é”™è¯¯"
- æ˜¾ç¤º `admin.stats.error.fetchFailed` è€Œä¸æ˜¯ "è·å–æ•°æ®å¤±è´¥"
- æ˜¾ç¤º `admin.stats.retry` è€Œä¸æ˜¯ "é‡è¯•"

åŒæ—¶æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯ï¼š
```
AdminStatsPanel.js:66 è·å–åˆ†ææ•°æ®å¤±è´¥: æœªçŸ¥é”™è¯¯
```

## é—®é¢˜æ ¹æœ¬åŸå› 

**å›½é™…åŒ–ç¿»è¯‘é”®ç¼ºå¤±**ï¼š
- `AdminStatsPanel.js` ç»„ä»¶ä¸­ä½¿ç”¨äº†å¤šä¸ªå›½é™…åŒ–ç¿»è¯‘é”®
- ä½†åœ¨ `client/src/i18n/modules/adminStats.js` æ–‡ä»¶ä¸­ç¼ºå°‘è¿™äº›ç¿»è¯‘é”®çš„å®šä¹‰
- å¯¼è‡´ i18next æ— æ³•æ‰¾åˆ°å¯¹åº”çš„ç¿»è¯‘æ–‡æœ¬ï¼Œç›´æ¥æ˜¾ç¤ºé”®å€¼

## ç¼ºå¤±çš„ç¿»è¯‘é”®åˆ—è¡¨

é€šè¿‡ä»£ç åˆ†æï¼Œå‘ç°ä»¥ä¸‹ç¿»è¯‘é”®ç¼ºå¤±ï¼š

### é”™è¯¯ç›¸å…³
- `admin.stats.error.title` - é”™è¯¯æ ‡é¢˜
- `admin.stats.error.fetchFailed` - è·å–æ•°æ®å¤±è´¥
- `admin.stats.error.networkError` - ç½‘ç»œé”™è¯¯
- `admin.stats.retry` - é‡è¯•æŒ‰é’®

### ç»Ÿè®¡æ•°æ®ç›¸å…³
- `admin.stats.today` - ä»Šæ—¥
- `admin.stats.totalUsers` - æ€»ç”¨æˆ·æ•°
- `admin.stats.totalPosts` - æ€»ä½œå“æ•°
- `admin.stats.totalPrompts` - æ€»æç¤ºè¯æ•°
- `admin.stats.activeUsers` - æ´»è·ƒç”¨æˆ·
- `admin.stats.last24h` - æœ€è¿‘24å°æ—¶
- `admin.stats.overview` - æ¦‚è§ˆ
- `admin.stats.weeklyOverview` - æœ¬å‘¨æ¦‚è§ˆ

### æµè§ˆå’Œäº’åŠ¨æ•°æ®ç›¸å…³
- `admin.stats.totalViews` - æ€»æµè§ˆé‡
- `admin.stats.dailyViews` - æ—¥æµè§ˆé‡
- `admin.stats.totalLikes` - æ€»ç‚¹èµæ•°
- `admin.stats.promptLikes` - æç¤ºè¯ç‚¹èµ
- `admin.stats.promptViews` - æç¤ºè¯æµè§ˆé‡
- `admin.stats.avgViewsPerPrompt` - å¹³å‡æ¯ä¸ªæç¤ºè¯æµè§ˆé‡

### ç•Œé¢æ“ä½œç›¸å…³
- `admin.stats.refresh` - åˆ·æ–°
- `admin.stats.refreshing` - åˆ·æ–°ä¸­

## è§£å†³æ–¹æ¡ˆ

### ä¿®å¤æ­¥éª¤

1. **åˆ†æé—®é¢˜**ï¼šé€šè¿‡æœç´¢ `AdminStatsPanel.js` æ–‡ä»¶ä¸­çš„ `t('admin.stats.` æ¨¡å¼ï¼Œè¯†åˆ«æ‰€æœ‰ä½¿ç”¨çš„ç¿»è¯‘é”®

2. **æ›´æ–°å›½é™…åŒ–æ–‡ä»¶**ï¼šåœ¨ `client/src/i18n/modules/adminStats.js` ä¸­ä¸ºä¸‰ç§è¯­è¨€æ·»åŠ ç¼ºå¤±çš„ç¿»è¯‘é”®ï¼š
   - ä¸­æ–‡ (zh-CN)
   - è‹±æ–‡ (en-US) 
   - æ—¥æ–‡ (ja-JP)

3. **æµ‹è¯•éªŒè¯**ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œè®¿é—®ç®¡ç†å‘˜é¢æ¿ç¡®è®¤ä¿®å¤æ•ˆæœ

### å…·ä½“ä¿®æ”¹å†…å®¹

#### ä¸­æ–‡ç¿»è¯‘ (zh-CN)
```javascript
error: {
  title: 'é”™è¯¯',
  fetchFailed: 'è·å–æ•°æ®å¤±è´¥',
  networkError: 'ç½‘ç»œé”™è¯¯'
},
retry: 'é‡è¯•',
today: 'ä»Šæ—¥',
totalUsers: 'æ€»ç”¨æˆ·æ•°',
totalPosts: 'æ€»ä½œå“æ•°',
totalPrompts: 'æ€»æç¤ºè¯æ•°',
activeUsers: 'æ´»è·ƒç”¨æˆ·',
last24h: 'æœ€è¿‘24å°æ—¶',
overview: 'æ¦‚è§ˆ',
weeklyOverview: 'æœ¬å‘¨æ¦‚è§ˆ',
totalViews: 'æ€»æµè§ˆé‡',
dailyViews: 'æ—¥æµè§ˆé‡',
totalLikes: 'æ€»ç‚¹èµæ•°',
promptLikes: 'æç¤ºè¯ç‚¹èµ',
promptViews: 'æç¤ºè¯æµè§ˆé‡',
avgViewsPerPrompt: 'å¹³å‡æ¯ä¸ªæç¤ºè¯æµè§ˆé‡'
```

#### è‹±æ–‡ç¿»è¯‘ (en-US)
```javascript
error: {
  title: 'Error',
  fetchFailed: 'Failed to fetch data',
  networkError: 'Network Error'
},
retry: 'Retry',
today: 'Today',
totalUsers: 'Total Users',
totalPosts: 'Total Posts',
totalPrompts: 'Total Prompts',
activeUsers: 'Active Users',
last24h: 'Last 24 Hours',
overview: 'Overview',
weeklyOverview: 'Weekly Overview',
totalViews: 'Total Views',
dailyViews: 'Daily Views',
totalLikes: 'Total Likes',
promptLikes: 'Prompt Likes',
promptViews: 'Prompt Views',
avgViewsPerPrompt: 'Average Views per Prompt'
```

#### æ—¥æ–‡ç¿»è¯‘ (ja-JP)
```javascript
error: {
  title: 'ã‚¨ãƒ©ãƒ¼',
  fetchFailed: 'ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ',
  networkError: 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼'
},
retry: 'å†è©¦è¡Œ',
today: 'ä»Šæ—¥',
totalUsers: 'ç·ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°',
totalPosts: 'ç·æŠ•ç¨¿æ•°',
totalPrompts: 'ç·ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ•°',
activeUsers: 'ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼',
last24h: 'éå»24æ™‚é–“',
overview: 'æ¦‚è¦',
weeklyOverview: 'é€±é–“æ¦‚è¦',
totalViews: 'ç·é–²è¦§æ•°',
dailyViews: 'æ—¥é–“é–²è¦§æ•°',
totalLikes: 'ç·ã„ã„ã­æ•°',
promptLikes: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã„ã„ã­',
promptViews: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé–²è¦§æ•°',
avgViewsPerPrompt: 'ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¹³å‡é–²è¦§æ•°'
```

## ä¿®å¤ç»“æœ

### ä¿®å¤å‰
- ç®¡ç†å‘˜é¢æ¿æ˜¾ç¤ºåŸå§‹ç¿»è¯‘é”®å€¼ï¼ˆå¦‚ `admin.stats.error.title`ï¼‰
- ç”¨æˆ·ä½“éªŒå·®ï¼Œç•Œé¢ä¸å‹å¥½
- æ§åˆ¶å°å‡ºç°è·å–åˆ†ææ•°æ®å¤±è´¥çš„é”™è¯¯

### ä¿®å¤å
- æ‰€æœ‰æ–‡æœ¬æ­£ç¡®æ˜¾ç¤ºä¸ºå¯¹åº”è¯­è¨€çš„ç¿»è¯‘
- é”™è¯¯æç¤ºã€æŒ‰é’®æ–‡æœ¬ã€ç»Ÿè®¡æ ‡ç­¾ç­‰éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º
- æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ä¸‰ç§è¯­è¨€
- ç”¨æˆ·ç•Œé¢å‹å¥½ï¼Œä¸“ä¸šæ€§æå‡

## é¢„é˜²æªæ–½

1. **ä»£ç å®¡æŸ¥**ï¼šåœ¨æ·»åŠ æ–°çš„ç¿»è¯‘é”®æ—¶ï¼Œç¡®ä¿åœ¨æ‰€æœ‰æ”¯æŒçš„è¯­è¨€æ–‡ä»¶ä¸­éƒ½æœ‰å¯¹åº”çš„ç¿»è¯‘

2. **è‡ªåŠ¨åŒ–æ£€æµ‹**ï¼šå¯ä»¥è€ƒè™‘æ·»åŠ è„šæœ¬æ¥æ£€æµ‹ä»£ç ä¸­ä½¿ç”¨çš„ç¿»è¯‘é”®æ˜¯å¦åœ¨å›½é™…åŒ–æ–‡ä»¶ä¸­éƒ½æœ‰å®šä¹‰

3. **æµ‹è¯•è¦†ç›–**ï¼šåœ¨ä¸åŒè¯­è¨€ç¯å¢ƒä¸‹æµ‹è¯•ç•Œé¢ï¼Œç¡®ä¿æ‰€æœ‰æ–‡æœ¬éƒ½èƒ½æ­£ç¡®æ˜¾ç¤º

4. **æ–‡æ¡£ç»´æŠ¤**ï¼šåŠæ—¶æ›´æ–°å›½é™…åŒ–ç›¸å…³çš„å¼€å‘æ–‡æ¡£

## æŠ€æœ¯ç»†èŠ‚

- **ä¿®æ”¹æ–‡ä»¶**ï¼š`client/src/i18n/modules/adminStats.js`
- **å½±å“ç»„ä»¶**ï¼š`client/src/components/Admin/AdminStatsPanel.js`
- **æ”¯æŒè¯­è¨€**ï¼šä¸­æ–‡(zh-CN)ã€è‹±æ–‡(en-US)ã€æ—¥æ–‡(ja-JP)
- **ä¿®å¤æ—¶é—´**ï¼šçº¦10åˆ†é’Ÿ
- **æµ‹è¯•çŠ¶æ€**ï¼šâœ… å·²é€šè¿‡æµ‹è¯•

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2025-01-16  
**ä¿®å¤çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ  
**å½±å“èŒƒå›´**ï¼šç®¡ç†å‘˜åå°ç»Ÿè®¡é¢æ¿  
**é£é™©ç­‰çº§**ï¼šä½ï¼ˆä»…å½±å“ç•Œé¢æ˜¾ç¤ºï¼Œä¸å½±å“åŠŸèƒ½ï¼‰


## ç®¡ç†å‘˜é¢æ¿åŠŸèƒ½ä¿®å¤å®Œæˆ
æˆ‘å·²ç»æˆåŠŸä¿®å¤äº†æ‚¨æŠ¥å‘Šçš„æ‰€æœ‰ç®¡ç†å‘˜é¢æ¿é—®é¢˜ï¼š

### ğŸ”§ å·²ä¿®å¤çš„é—®é¢˜
1. å›½é™…åŒ–é”®åæ˜¾ç¤ºé—®é¢˜

- åœ¨ `adminStats.js` ä¸­æ·»åŠ äº†ç¼ºå¤±çš„åˆ†æç›¸å…³å›½é™…åŒ–é”®
- ä¿®å¤äº† admin.analytics.geo ã€ admin.analytics.behavior ã€ admin.analytics.trend ã€ admin.analytics.content çš„ä¸­è‹±æ–‡ç¿»è¯‘
2. ç”¨æˆ·ç®¡ç†åŠŸèƒ½

- ä¿®å¤äº† `AdminPanel.js` ä¸­ fetchUsers å‡½æ•°çš„APIå“åº”æ•°æ®å¤„ç†
- å°† response.data.users æ”¹ä¸º response.data.data.users ä»¥æ­£ç¡®è®¿é—®ç”¨æˆ·åˆ—è¡¨æ•°æ®
3. å†…å®¹ç®¡ç†åŠŸèƒ½

- ä¿®å¤äº† fetchPosts å‡½æ•°çš„APIå“åº”æ•°æ®å¤„ç†
- å°† response.data.posts æ”¹ä¸º response.data.data.posts ä»¥æ­£ç¡®è®¿é—®å¸–å­åˆ—è¡¨æ•°æ®
4. æç¤ºè¯ç®¡ç†åŠŸèƒ½

- ä¿®å¤äº† fetchPrompts å‡½æ•°çš„APIå“åº”æ•°æ®å¤„ç†
- å°† response.data.prompts å’Œ response.data.pagination æ”¹ä¸º response.data.data.prompts å’Œ response.data.data.pagination
5. å…¨å±€å¹¿æ’­åŠŸèƒ½

- ç¡®è®¤äº†æœåŠ¡å™¨ç«¯ `notifications.js` ä¸­çš„ /system APIç«¯ç‚¹å®ç°æ­£å¸¸
- å¹¿æ’­åŠŸèƒ½æ”¯æŒå‘é€ç»™æ‰€æœ‰ç”¨æˆ·æˆ–æŒ‡å®šç”¨æˆ·
### ğŸš€ æŠ€æœ¯ç»†èŠ‚
ä¿®å¤çš„æ ¸å¿ƒé—®é¢˜æ˜¯APIå“åº”æ•°æ®ç»“æ„ä¸ä¸€è‡´ï¼š

- enhancedAdminAPI è¿”å›çš„æ•°æ®ç»“æ„ä¸º { success: true, data: { users: [...], pagination: {...} } }
- å®¢æˆ·ç«¯ä»£ç ä¹‹å‰ç›´æ¥è®¿é—® response.data.users ï¼Œåº”è¯¥è®¿é—® response.data.data.users

## å›½é™…åŒ–é”®åä¿®å¤å®Œæˆ
æˆ‘å·²ç»æˆåŠŸä¿®å¤äº†æ‚¨æåˆ°çš„æ‰€æœ‰å›½é™…åŒ–é”®åé—®é¢˜ï¼Œå¹¶æ£€æŸ¥äº†æ•´ä¸ªé¡¹ç›®ä¸­çš„å…¶ä»–ç›¸å…³é”®åã€‚

### ğŸ”§ å·²ä¿®å¤çš„é”®å 1. åˆ†æç›¸å…³é”®åï¼ˆAdminStatsPanel.jsä¸­ä½¿ç”¨ï¼‰
- admin.analytics.geo - åœ°åŸŸ/Geographic/åœ°åŸŸ
- admin.analytics.behavior - è¡Œä¸º/Behavior/è¡Œå‹•
- admin.analytics.trend - è¶‹åŠ¿/Trend/ãƒˆãƒ¬ãƒ³ãƒ‰
- admin.analytics.content - å†…å®¹/Content/ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
ä¿®å¤ä½ç½® ï¼š `adminStats.js`

- åœ¨ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ä¸‰ä¸ªè¯­è¨€ç‰ˆæœ¬ä¸­éƒ½æ·»åŠ äº† admin.analytics è·¯å¾„çš„é…ç½®
- ç¡®ä¿ä¸ AdminStatsPanel.js ä¸­ä½¿ç”¨çš„é”®åæ ¼å¼å®Œå…¨åŒ¹é… 2. å…¶ä»–å‘ç°å¹¶ä¿®å¤çš„é”®åï¼ˆAdminPanel.jsä¸­ä½¿ç”¨ï¼‰
- admin.users.searchPlaceholder - æœç´¢ç”¨æˆ·åæˆ–é‚®ç®±.../Search username or email.../ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¾ãŸã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ¤œç´¢...
- admin.posts.searchPlaceholder - æœç´¢æ ‡é¢˜æˆ–æè¿°.../Search title or description.../ã‚¿ã‚¤ãƒˆãƒ«ã¾ãŸã¯èª¬æ˜ã‚’æ¤œç´¢...
- admin.broadcast.messagePlaceholder - è¾“å…¥å¹¿æ’­æ¶ˆæ¯å†…å®¹.../Enter broadcast message content.../ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹ã‚’å…¥åŠ›...
ä¿®å¤ä½ç½® ï¼š

- `zh-CN.json`
- `en-US.json`
- `ja-JP.json`
### ğŸ“‹ ä¿®å¤è¯¦æƒ…
1. 1.
   adminStats.js æ–‡ä»¶ä¿®å¤ ï¼š
   
   - åœ¨ç°æœ‰çš„ admin.stats.analytics è·¯å¾„åŸºç¡€ä¸Šï¼Œæ–°å¢äº† admin.analytics è·¯å¾„
   - ä¿æŒäº†ä¸ç»„ä»¶ä¸­ä½¿ç”¨çš„é”®åæ ¼å¼ä¸€è‡´
   - æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ä¸‰ç§è¯­è¨€
2. 2.
   ä¸»è¦å›½é™…åŒ–æ–‡ä»¶ä¿®å¤ ï¼š
   
   - åœ¨ admin éƒ¨åˆ†æ·»åŠ äº† usersã€postsã€broadcast ä¸‰ä¸ªå­æ¨¡å—
   - æ¯ä¸ªå­æ¨¡å—åŒ…å«ç›¸åº”çš„ searchPlaceholder æˆ– messagePlaceholder
   - ç¡®ä¿äº†ç®¡ç†å‘˜é¢æ¿æ‰€æœ‰åŠŸèƒ½çš„å›½é™…åŒ–æ”¯æŒ