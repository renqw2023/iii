# 描述字符限制调整修改

## 修改日期
2025-01-21

## 修改内容
根据用户需求，将创作页面描述字段的字符限制从500字符调整为2000字符。

## 修改文件

### 前端修改
- **文件**: `client/src/pages/CreatePost.js`
- **修改内容**:
  - 前端表单验证：maxLength 从 500 改为 2000
  - 字符计数显示：从 "xxx/500" 改为 "xxx/2000"
  - 错误提示信息：从 "描述不能超过500个字符" 改为 "描述不能超过2000个字符"
  - HTML maxLength 属性：从 500 改为 2000

### 后端修改
- **文件**: `server/routes/posts.js`
- **修改内容**:
  - 创建帖子验证：`body('description').optional().isLength({ max: 2000 })`
  - 更新帖子验证：`body('description').optional().isLength({ max: 2000 })`
  - 错误提示信息：从 "描述不能超过500个字符" 改为 "描述不能超过2000个字符"

## 技术实现

1. **前端验证层面**:
   - React Hook Form 的 maxLength 规则
   - 实时字符计数显示
   - 表单提交前的客户端验证
   - HTML input maxLength 属性限制

2. **后端验证层面**:
   - Express Validator 的 isLength 验证
   - 创建和更新帖子时的统一验证
   - 一致的错误提示信息

## 影响范围
- 创作页面的描述输入体验
- 帖子编辑页面的描述输入体验
- 前后端验证一致性

## 测试建议
1. 在创作页面输入1999字符，验证可以正常提交
2. 在创作页面输入2001字符，验证前端阻止提交并显示错误提示
3. 测试帖子编辑功能的描述字段验证
4. 验证字符计数显示正确（xxx/2000）

## 注意事项
- 前后端验证保持一致，都是2000字符限制
- 用户界面友好，有实时字符计数和明确的错误提示
- 修改不影响现有帖子数据